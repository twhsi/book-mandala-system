<!doctype html><meta charset="utf-8">
<script>
  (function(){
    var parts = location.pathname.split('/').filter(Boolean);
    // Try to detect repo name as the first segment after domain on GitHub Pages (user or project pages)
    // For project pages: https://username.github.io/repo/... â†’ repo is parts[1] (after username.github.io)
    // For custom domains or local file, we fallback to last known folder.
    var repo = parts.length>=2 ? parts[1] : (parts[0]||'');
    // If this page sits at repo root, ensure we don't consume the username as repo.
    // Heuristic: if current host contains '.github.io', skip username segment.
    if (location.host.endsWith('.github.io') && parts.length>=2){ repo = parts[1]; }
    var i = parts.indexOf(repo);
    var tail = parts.slice(i+1);
    var project = tail[0] || '';
    var layer = tail[1] || 'main';
    var base = '/' + parts.slice(0, i+1).join('/') + '/';
    var url = project ? (base + '?project=' + encodeURIComponent(project) + '&layer=' + encodeURIComponent(layer)) : base;
    location.replace(url);
  })();
</script>
